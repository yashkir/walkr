{% extends 'base.html' %}
{% block title %}
{{ thread.title }}
{% endblock %}
{% block content %}

<nav>
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="{% url 'forums_home' %}">Forums</a>
    </li>
    <li class="breadcrumb-item">
      <a href="{% url 'forums_detail' thread.forum.id %}">{{ thread.forum.title }}</a>
    </li>
    <li class="breadcrumb-item active">
      {{ thread.title }}
    </li>
  </ol>
</nav>

<small>created by <b>{{ thread.author.username }}</b> on {{ thread.created }}</small>
<h1>{{ thread.title }}</h1>
<a class="" href="{% url 'posts_create' thread.id %}">New Reply</a>

<hr>


{% for post in thread.post_set.all %}
<div>
  <div class="card mb-2">
    <div class="card-header">
      {{ post.position }}: <b>{{ post.author.username }}</b> posted on {{ post.created }}
      {% if user.is_authenticated and post.author == user %}
      <div class="float-right">
        <a class="badge badge-secondary" href="{% url 'posts_edit' post.id %}">edit</a>
        <a class="badge badge-warning" href="{% url 'posts_delete' post.id %}">delete</a>
      </div>
      {% else %}
      {% comment %}reply link goes here {% endcomment %}
      {% endif %}
    </div>
    <div class="card-body">
      {{ post.text }}
    </div>
  </div>
</div>
{% empty %}
Nothing here...
{% endfor %}

{% endblock %}
